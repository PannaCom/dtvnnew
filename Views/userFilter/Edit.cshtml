@model youknow.Models.userFilter

@{
    ViewBag.Title = "Edit";
}

<h2>Edit</h2>

@using (Html.BeginForm()) {
    @Html.AntiForgeryToken()
    @Html.ValidationSummary(true)

    <fieldset>
        <legend>userFilter</legend>

        <div id="groupDomain">Source News</div>
        <div id="groupCat">Topic News</div>
        <p>
            <input type="button" value="Save"/>
        </p>
    </fieldset>
}

<div>
    @Html.ActionLink("Back to List", "Index")
</div>

@section Scripts {
    @Scripts.Render("~/bundles/jqueryval")
    <script src="~/Scripts/OpenLayers.js" type="text/javascript"></script> 
    <script>
        var request = OpenLayers.Request.GET({
                url: "/userFilter/getDomain",
                params: { catId: '1' },
            callback: function (data) {
                var news = '{"news":' + data.responseText + '}';
                $("#groupDomain").html('');
                var json_parsed = $.parseJSON(news);
                for (var i = 0; i < json_parsed.news.length; i++) {
                    if (json_parsed.news[i]) {
                        var n = json_parsed.news[i];
                        $("#groupDomain").append('<input type=checkbox name=chkDomain>'+n.name);
                    }
                }
            }
        });
    </script>
}
